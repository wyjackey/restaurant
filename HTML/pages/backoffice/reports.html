<!DOCTYPE html>
<html  lang="zh">
	<head>
		<meta charset="utf-8">
		<title>多好便当</title>
		<meta name="description" content="多好便当位于。。。附近，外卖，自取均可。" />
		<meta name="keywords" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="application-name" content="" />
		<meta name="msapplication-tooltip" content="" />
		<meta name="msapplication-starturl" content="" />
		<meta name="msapplication-TileImage" content="" />
		<meta name="msapplication-TileColor" content="#0088ff" />

		<link class="usemin" rel="stylesheet" href="../../CSS/b898e9d6.css">

		<link class="usemin" rel="stylesheet" href="../../CSS/04cb1d78.css">
		<link rel="stylesheet" type="text/css" href="../../css/site.css" />

		<script class="usemin" src="../../JS/66c19641.js"></script>

		<script type="text/javascript" src="../../js/jqplot/jquery.min.js"></script>
		<script type="text/javascript" src="../../js/jqplot/jquery.jqplot.min.js"></script>
		<link rel="stylesheet" type="text/css" href="../../JS/jqplot/jquery.jqplot.css" />
		<script type="text/JavaScript" src="../../JS/jqplot/plugins/jqplot.barrenderer.min.js"></script>
		<script type="text/JavaScript" src="../../JS/jqplot/plugins/jqplot.categoryAxisRenderer.min.js"></script>
		<script type="text/JavaScript" src="../../JS/jqplot/plugins/jqplot.pointLabels.min.js"></script>

		<script type="text/JavaScript" src="../../JS/jqplot/plugins/jqplot.dateAxisRenderer.min.js"></script>
		<script type="text/JavaScript" src="../../JS/jqplot/plugins/jqplot.canvasTextRenderer.min.js"></script>
		<script type="text/JavaScript" src="../../JS/jqplot/plugins/jqplot.canvasAxisTickRenderer.min.js"></script>

		<script type="text/JavaScript" src="../../JS/jqplot/plugins/jqplot.pieRenderer.min.js"></script>
		<script type="text/JavaScript" src="../../JS/jqplot/plugins/jqplot.donutRenderer.min.js"></script>

		<script>
			$(document).ready(getreport);
			function getreport(evt) {
				
				$("#chart1").empty();
				$("#pieChart").empty();
				$("#info2").empty();
				

				var type = [0];
				for (var i = 1; i < 10; i++) {
					var x = ["菜类" + i];
					type.unshift(x);
				}
				type.pop();

				var item = [0];
				for (var i = 1; i < 30; i++) {
					var x = ["菜品" + i];
					item.unshift(x);
				}
				item.pop();

				var line1 = [0, 0];
				var line2 = [0, 0];
				var charType=$("#chartSelect").val();
				
				if ($("#chartSelect").val()=="type")
				
				{for (var i = 0; i < type.length; i++) {
					if ($("input[name='sales']:checked").val() == "qty") {
						var x = [i, type[i]];
						line1.unshift(x);
					} else {
						var x = [i * 4, type[i]];
						line1.unshift(x);
					}
				}}
				
				else if ($("#chartSelect").val()=="item")
				{
					for (var i = 0; i < item.length; i++) {
					if ($("input[name='sales']:checked").val() == "qty") {
						var x = [i, item[i]];
						line1.unshift(x);
					} else {
						var x = [i * 4, item[i]];
						line1.unshift(x);
					}
				}
					
				}
				line1.pop();
				line1.pop();

				var titles = $("input[name='sales']:checked").next('label').text();
				var le = line1.length;
				

				for (var i = 0; i < line1.length; i++) {
					var line3 = [line1[i][1], line1[i][0]];

					line2.unshift(line3);
				}
				line2.pop();
				line2.pop();

				var plot1 = $.jqplot('chart1', [line1], {
					height: le*30 +"px",
					
					title : titles,
					seriesDefaults : {
						renderer : $.jqplot.BarRenderer,
						shadowAngle : 135,
						rendererOptions : {
							barDirection : 'horizontal'
						},
						pointLabels : {
							show : true
						}
					},

					axes : {
						yaxis : {
							renderer : $.jqplot.CategoryAxisRenderer
						}
					}
				});
			
				
				$('#chart1').bind('jqplotDataHighlight', function(ev, seriesIndex, pointIndex, data) {
					$('#info2').html('菜类: ' + line1[pointIndex][1] + ', 排名: ' + data[1] + ', 销量: ' + data[0]);
				});
				var plot2 = $.jqplot('pieChart', [line2], {
					seriesDefaults : {
						renderer : $.jqplot.PieRenderer,
						rendererOptions : {
							showDataLabels : true
						}
					},
					legend : {
						show : true,
						location : 'e'
					}
				});
				
				
										

			};
			
		</script>

	</head>

	<body   id="restaurant">
		<div class="restaurant-header">
			<div class="container rst_header_con">
				<article class="rst-header-main rst-header-toggle rst_info_header" >

					<header class="rst-header-info group">
						<a class="rst-logo" href="../main.html" itemprop="url"> <img class="rst-logo-img" src="../image/logo.jpg" data-srcset="" height="48" width="48" alt="多好便当logo" itemprop="logo" /> </a>
						<div class="rst-basic-info">
							<div class="rst-name-wrapper caret">
								<a class="rst-name text-overflow" href="../main.html" data-toggle="bs-tooltip" title="多好便当" itemprop="name">多好便当</a>
							</div>

						</div>
					</header>

					

				</article>
				<nav class="rst-header-nav">
					<a class="rst-header-nav-item" href="management.html">菜品管理</a>
					<a class="rst-header-nav-item" href="empl.html">员工管理</a>
					<a class="rst-header-nav-item" href="otherinfo.html">餐厅信息管理</a>
					<a class="rst-header-nav-item" href="">查看报表</a>
					<a class="rst-header-nav-item" href="../../main.html">退出</a>
				</nav>
			</div>
		</div>
		<div class="container">
			<div class="left">
				<label>分类:&nbsp;</label>
				<select id="chartSelect" onchange="getreport()">
					<option value="type" selected="selected" >菜品类别</option>
					<option value="item">菜品名称</option>
					<option value="time">时间轴线</option>
				</select>
				<br/>
				<br />
				<label for="fromdate">自:&nbsp;</label>
				<input type="date" id="fromdate" placeholder="09/31/2015"  min="09/31/2015" />
				<br />
				<label for="todate">至:&nbsp;</label>
				<input type="date" id="todate" placeholder="09/31/2015" min="09/31/2015"/>
				<br />
				<br />
				<form>
					<input type="radio" name="sales" id="amount" value="amount" checked="checked" onchange="getreport();"/>
					&nbsp;<label for="amount" >销售金额</label>

					<br />
					<input type="radio" name="sales" id="qty" value="qty" onchange="getreport();"/>
					&nbsp;<label for="qty" >销售份数</label>

				</form>
			</div>

			<div class="right" id="pieChart"></div>
			<div class="center" >

				<div id="info2" ></div>
				<div id="chart1" ></div>
			</div>

		</div>

	</body>
</html>
